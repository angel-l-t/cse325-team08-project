@page "/"
@using FlavorSphere.Data
@inject RecipeService RecipeService

<div class="page-container">

    <main class="content-area">

        <section class="recipe-grid">
            @if (allRecipes.Any())
            {
                @foreach (var recipe in allRecipes)
                {
                    <a href="@($"recipe/{recipe.Id}")" class="recipe-card-link">
                        <div class="recipe-card">
                            <img src="@recipe.ImageUrl" alt="@recipe.Name" />
                            <div class="card-body">
                                <h4>@recipe.Name</h4>
                                <div class="recipe-meta">
                                    <span>🕒 @(recipe.PreparationTime + recipe.CookingTime) min</span>
                                    <span>⭐ 4.5</span>
                                </div>
                                <span class="badge badge-info">@recipe.MealType</span>
                                <p class="author">By Chef Maria</p>
                            </div>
                        </div>
                    </a>
                }
            }
            else
            {
                <p>Loading recipes...</p>
            }
        </section>
    </main>
</div>

@code {
    private List<Recipe> allRecipes = new List<Recipe>();

    protected override async Task OnInitializedAsync()
    {
        allRecipes = await RecipeService.GetAllRecipesAsync();
    }
}